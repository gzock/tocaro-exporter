# 概要

2020年9月1日以降の大規模アップデートが適用された[Tocaro](https://tocaro.im/)からメッセージの一覧をブッコ抜くスクリプト。  
別のチャットツールなどに移行する際に便利かも？ jsonで出力するので、あとはよしなに。

# 動作環境

* Tocaro 768328b8
  * 2020年12月時点のTocaroで各種動作確認済み

* Python 3.6.9

# 使い方

## コンフィグの準備

`config.ini`に各種情報を指定する。とりあえず、`email, password`の2つを指定すれば動作する。それぞれのパラメーターの意味について以下に記載する。

パラメーター|デフォルト値|意味
-|-|-
email| - |Tocaroにサインインするためのメールアドレス
password| - |Tocaroにサインインするためのパスワード
group_type|show|メッセージを取得する対象のグループタイプ。show(表示グループ)かhide(非表示グループ)のどちらかを指定する。
excludes|アラート|指定した文字列に部分一致する名前のグループはメッセージ取得しない。
interval|0.3|連続的にメッセージ取得する際の一定の停止間隔(秒)<br>0に指定すると停止なしの最速処理(非推奨)
debug|false|デバッグログを出力するかどうか
with_groups|true|グループ一覧を出力するかどうか
path|./outputs|出力先パス

## 実行

とっても簡単。

```
$ ./main.py
```

# 注意

* TocaroのAPIの都合上、メッセージを30件毎に取得する必要がある。そのためメッセージ量が多いと全てを取得しきるのに相当な時間がかかる。気長に待つべし。
* グループが多いと、その分時間がかかる。不要なグループは非対象になるよう`excludes`には何かしらの文字列は入れておいたほうが良い。
